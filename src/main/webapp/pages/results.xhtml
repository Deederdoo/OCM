<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:jsf="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

<f:metadata>

	<f:viewAction action="#{resultsController.loadTestValues}"
		phase="UPDATE_MODEL_VALUES" />

</f:metadata>

<h:head>

	<style>
html {
	-webkit-font-smoothing: antialiased;
	min-height: 100%;
	background-image: linear-gradient(to bottom right, #456ba1, #4693B8, #42a7ad);
}

#tablecontainer table {
	border: solid 1px #DDEEEE;
	border-collapse: collapse;
	border-spacing: 0;
	table-layout: auto;
	width: 70%;
	margin: 0 auto;
}

table td {
	text-align: center;
	height: 35px;
	border: solid 1px #DDEEEE;
}

table th {
	border: solid 1px black;
	background-color: #dadada;
}

table tr:nth-child(even) {
	background: #f2f2f2;
}

table tr {
	background-color: #ffffff;
}

.table-hover tbody tr:hover td, .table-hover tbody tr:hover th {
	background-color: #c9c9c9;
}

#foot {
	position: fixed;
	bottom: 5%;
	right: 8%;
	font-family: "Cairo Regular", sans-serif;
	font-size: 16px;
	color: white;
}

#barcontainer{
	margin: 0 auto;
	padding-top: 1%;
	padding-bottom: 1%;
	width:85%;
}

#top{
	margin: 0 auto;
	width:90%;
	background-color: #ebf4ff;
	
}

#hori{
	display: inline-block;
	width: 50%;
}

#vert{
	display: inline-block;
	width: 48%;
}

#tablecontainer{
	margin: 0 auto;
	width:90%;
	height: 400px;
	overflow: auto;
}

#image{
	border: 0;
	width: 15%;
	height: 15%;
	opacity: 1;
	display: block;
 	margin-left: 1%;
  	margin-top: -1%;
  	float: left;
}

#comparer{
	float:right;
	padding-right: 6%;
}

</style>
</h:head>
<h:body>

		<h:form>
			<h:commandLink action="#{orgfitechController.navigatePages(1)}" >
				<h:graphicImage id="image" library="images" name="logo-horizontal-silver.png" style="width:15%;height:15%;"/>
			</h:commandLink>
		</h:form>

	<div id="barcontainer">
	
		<div id="top">
		
			<div id="hori">
				<p:barChart model="#{adminHoriBarChart.hbarModel}"/>
			</div>
			
			<div id="vert">
				<p:barChart model="#{adminBarChart.model}"/>
			</div>
			
		</div>
		
	</div>
	
	<h:form>
		<div id="comparer">
			<h:commandButton value="Compare All" action="#{adminHoriBarChart.category(compareController.typeAmount, compareController.type)}">
				<f:actionListener binding="#{compareController.compare(resultsController.adminCharts)}" />
				<f:actionListener binding="#{adminBarChart.category(compareController.avgAmount, compareController.type)}" />
			</h:commandButton>
						
			<p:selectOneMenu value="#{compareController.selectedItem}" >
				<f:selectItem itemLabel="Department" itemDisabled="true" noSelectionOption="true" />
				<f:selectItem itemLabel="Select" itemDisabled="true" noSelectionOption="true" />
				<f:selectItems value="#{compareController.dropDownItems}" />
			</p:selectOneMenu>
		</div>
	</h:form>
	
			<h:form>
			
				<div id="tablecontainer">
			
					<table>
						<h:dataTable id="data1" value="#{resultsController.adminCharts}" var="ad" styleClass="table-hover">
						
							<h:column>
								<f:facet name="header">ID</f:facet>
								<h:outputText type="text" value="#{ad.userID}"/>
							</h:column>
							
							<h:column>
								<f:facet name="header">First Name</f:facet>
								<h:outputText type="text" value="#{ad.firstName}"/>
							</h:column>
							
							<h:column>
								<f:facet name="header">Last Name</f:facet>
								<h:outputText type="text" value="#{ad.lastName}"/>
							</h:column>
							
							<h:column>
								<f:facet name="header">Department</f:facet>
								<h:outputText type="text" value="#{ad.department}"/>
							</h:column>
							
							<h:column>
								<f:facet name="header">Gender</f:facet>
								<h:outputText type="text" value="#{ad.gender}"/>
							</h:column>
							
							<h:column>
								<f:facet name="header">Age Group</f:facet>
								<h:outputText type="text" value="#{ad.ageGroup}"/>
							</h:column>
							
							<h:column>
								<f:facet name="header">PCM</f:facet>
								<h:outputText type="text" value="#{ad.pcm}"/>
							</h:column>
							
							<h:column>
								<f:facet name="header">Individual View</f:facet>
								<h:commandButton value="View" action="#{adminBarChart.createModel(ad.pcm)}">
									<f:actionListener binding="#{adminHoriBarChart.updateModel(resultsController.scores, ad.userID)}" />
								</h:commandButton>
							</h:column>
							
							<h:column>
								<f:facet name="header">Compare</f:facet>
	        					<h:selectBooleanCheckbox value="#{ad.select}" />
	    					</h:column>
							
						</h:dataTable>
					</table>
				
				</div>
			
			</h:form>

</h:body>
</html>