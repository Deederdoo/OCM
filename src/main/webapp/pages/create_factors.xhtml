<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:jsf="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

<f:metadata>

	<f:viewAction action="#{factorDefaultController.loadDefaultFactors}"
		phase="UPDATE_MODEL_VALUES" />

</f:metadata>

<h:head>

	<h:outputStylesheet name="css/createFactor.css" />

</h:head>
<h:body>
	<br />
	<h2>Factors</h2>

	<h:form>
		
		<h:outputText type="text" value="Assessment Name: "/>
		<h:inputText id="assessment_name" type="text" value="#{assessmentController.assName}" var="name">
			<f:validator validatorId="assessmentNameValidator"/>
			<f:validator validatorId="emptyInputValidator"/>
		</h:inputText>
		<h:commandButton id="submit" value="Submit"
			action="#{questionDefaultController.createDefaultQuestions}" >
			<f:actionListener binding="#{factorDefaultController.submitFactors()}"/>
		</h:commandButton>
		<br />
		<h:message for="assessment_name" style="color:red;" />
		<br />

		<h:dataTable id="facTable" value="#{factorDefaultController.factorDefaults}"
			var="fac" styleClass="table-hover">
			<h:column>
				<h:outputText type="text" value="Factor #{fac.factorID}:" />
			</h:column>	
			<f:facet name="header">Must have between 3-10 factors</f:facet>
			<h:column>
				<h:inputText type="text" value="#{fac.details}" />
			</h:column>
			<h:column>
				<h:commandButton value ="Remove" title="remove" action="#{factorDefaultController.removeFactor(fac)}"/>
			</h:column>	
		</h:dataTable>
		
		<table>
			<tr>
    			<td>Add new Factor: </td>
    			<td><h:inputText size="100" value="#{factorDefaultController.details}" /></td>
    			<td><h:commandButton value="Add" action="#{factorDefaultController.addFactor()}" /></td>
    		</tr>
		</table>

	</h:form>

</h:body>
</html>